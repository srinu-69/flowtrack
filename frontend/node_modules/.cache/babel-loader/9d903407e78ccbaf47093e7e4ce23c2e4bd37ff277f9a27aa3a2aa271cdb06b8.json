{"ast":null,"code":"import axios from \"axios\";\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || \"http://localhost:8000\",\n  timeout: 5000\n});\n\n// helpers to map backend <-> frontend field names\nfunction mapOut(item) {\n  return {\n    id: item.id,\n    email: item.email,\n    type: item.type,\n    location: item.location,\n    // map DB status to frontend expected status names\n    status: item.status === \"Open\" ? \"active\" : item.status === \"Assigned\" ? \"maintenance\" : item.status === \"Closed\" ? \"inactive\" : item.status,\n    openDate: item.open_date || item.openDate\n  };\n}\nfunction mapIn(payload) {\n  // backend expects snake_case open_date is handled server-side\n  return {\n    email: payload.email,\n    type: payload.type,\n    location: payload.location,\n    status: payload.status === \"active\" ? \"Open\" : payload.status === \"maintenance\" ? \"Assigned\" : payload.status === \"inactive\" ? \"Closed\" : payload.status\n  };\n}\nexport async function listAssets(status) {\n  const params = {};\n  if (status) {\n    params.status = status;\n  }\n  const res = await api.get(\"/assets\", {\n    params\n  });\n  return res.data.map(mapOut);\n}\nexport async function createAsset(asset) {\n  const res = await api.post(\"/assets\", mapIn(asset));\n  return mapOut(res.data);\n}\nexport async function updateAsset(id, patch) {\n  const res = await api.put(`/assets/${id}`, mapIn(patch));\n  return mapOut(res.data);\n}\nexport async function deleteAsset(id) {\n  await api.delete(`/assets/${id}`);\n  return true;\n}\nexport default {\n  listAssets,\n  createAsset,\n  updateAsset,\n  deleteAsset\n};","map":{"version":3,"names":["axios","api","create","baseURL","process","env","REACT_APP_API_URL","timeout","mapOut","item","id","email","type","location","status","openDate","open_date","mapIn","payload","listAssets","params","res","get","data","map","createAsset","asset","post","updateAsset","patch","put","deleteAsset","delete"],"sources":["C:/Users/hussa/Desktop/flowtrack/frontend/src/services/assetsApi.js"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || \"http://localhost:8000\",\n  timeout: 5000,\n});\n\n// helpers to map backend <-> frontend field names\nfunction mapOut(item) {\n  return {\n    id: item.id,\n    email: item.email,\n    type: item.type,\n    location: item.location,\n    // map DB status to frontend expected status names\n    status:\n      item.status === \"Open\"\n        ? \"active\"\n        : item.status === \"Assigned\"\n        ? \"maintenance\"\n        : item.status === \"Closed\"\n        ? \"inactive\"\n        : item.status,\n    openDate: item.open_date || item.openDate,\n  };\n}\n\nfunction mapIn(payload) {\n  // backend expects snake_case open_date is handled server-side\n  return {\n    email: payload.email,\n    type: payload.type,\n    location: payload.location,\n    status:\n      payload.status === \"active\"\n        ? \"Open\"\n        : payload.status === \"maintenance\"\n        ? \"Assigned\"\n        : payload.status === \"inactive\"\n        ? \"Closed\"\n        : payload.status,\n  };\n}\n\nexport async function listAssets(status) {\n  const params = {};\n  if (status) {\n    params.status = status;\n  }\n  const res = await api.get(\"/assets\", { params });\n  return res.data.map(mapOut);\n}\n\nexport async function createAsset(asset) {\n  const res = await api.post(\"/assets\", mapIn(asset));\n  return mapOut(res.data);\n}\n\nexport async function updateAsset(id, patch) {\n  const res = await api.put(`/assets/${id}`, mapIn(patch));\n  return mapOut(res.data);\n}\n\nexport async function deleteAsset(id) {\n  await api.delete(`/assets/${id}`);\n  return true;\n}\n\nexport default { listAssets, createAsset, updateAsset, deleteAsset };\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;EACjEC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACA,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAO;IACLC,EAAE,EAAED,IAAI,CAACC,EAAE;IACXC,KAAK,EAAEF,IAAI,CAACE,KAAK;IACjBC,IAAI,EAAEH,IAAI,CAACG,IAAI;IACfC,QAAQ,EAAEJ,IAAI,CAACI,QAAQ;IACvB;IACAC,MAAM,EACJL,IAAI,CAACK,MAAM,KAAK,MAAM,GAClB,QAAQ,GACRL,IAAI,CAACK,MAAM,KAAK,UAAU,GAC1B,aAAa,GACbL,IAAI,CAACK,MAAM,KAAK,QAAQ,GACxB,UAAU,GACVL,IAAI,CAACK,MAAM;IACjBC,QAAQ,EAAEN,IAAI,CAACO,SAAS,IAAIP,IAAI,CAACM;EACnC,CAAC;AACH;AAEA,SAASE,KAAKA,CAACC,OAAO,EAAE;EACtB;EACA,OAAO;IACLP,KAAK,EAAEO,OAAO,CAACP,KAAK;IACpBC,IAAI,EAAEM,OAAO,CAACN,IAAI;IAClBC,QAAQ,EAAEK,OAAO,CAACL,QAAQ;IAC1BC,MAAM,EACJI,OAAO,CAACJ,MAAM,KAAK,QAAQ,GACvB,MAAM,GACNI,OAAO,CAACJ,MAAM,KAAK,aAAa,GAChC,UAAU,GACVI,OAAO,CAACJ,MAAM,KAAK,UAAU,GAC7B,QAAQ,GACRI,OAAO,CAACJ;EAChB,CAAC;AACH;AAEA,OAAO,eAAeK,UAAUA,CAACL,MAAM,EAAE;EACvC,MAAMM,MAAM,GAAG,CAAC,CAAC;EACjB,IAAIN,MAAM,EAAE;IACVM,MAAM,CAACN,MAAM,GAAGA,MAAM;EACxB;EACA,MAAMO,GAAG,GAAG,MAAMpB,GAAG,CAACqB,GAAG,CAAC,SAAS,EAAE;IAAEF;EAAO,CAAC,CAAC;EAChD,OAAOC,GAAG,CAACE,IAAI,CAACC,GAAG,CAAChB,MAAM,CAAC;AAC7B;AAEA,OAAO,eAAeiB,WAAWA,CAACC,KAAK,EAAE;EACvC,MAAML,GAAG,GAAG,MAAMpB,GAAG,CAAC0B,IAAI,CAAC,SAAS,EAAEV,KAAK,CAACS,KAAK,CAAC,CAAC;EACnD,OAAOlB,MAAM,CAACa,GAAG,CAACE,IAAI,CAAC;AACzB;AAEA,OAAO,eAAeK,WAAWA,CAAClB,EAAE,EAAEmB,KAAK,EAAE;EAC3C,MAAMR,GAAG,GAAG,MAAMpB,GAAG,CAAC6B,GAAG,CAAC,WAAWpB,EAAE,EAAE,EAAEO,KAAK,CAACY,KAAK,CAAC,CAAC;EACxD,OAAOrB,MAAM,CAACa,GAAG,CAACE,IAAI,CAAC;AACzB;AAEA,OAAO,eAAeQ,WAAWA,CAACrB,EAAE,EAAE;EACpC,MAAMT,GAAG,CAAC+B,MAAM,CAAC,WAAWtB,EAAE,EAAE,CAAC;EACjC,OAAO,IAAI;AACb;AAEA,eAAe;EAAES,UAAU;EAAEM,WAAW;EAAEG,WAAW;EAAEG;AAAY,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}